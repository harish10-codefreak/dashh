<div class="min-h-screen bg-gray-100 p-6">
  <h1 class="text-3xl font-bold text-gray-800 mb-8 text-center">Dashboard</h1>

  <!-- 2FA Authentication -->
  <div class="bg-white p-6 rounded-lg shadow-md mb-6">
    <h2 class="text-xl font-semibold text-gray-700 mb-4">2FA Authentication</h2>
    <div class="space-y-4">
      <input type="text" [(ngModel)]="username" placeholder="Username" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
      <input type="password" [(ngModel)]="password" placeholder="Password" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
      <button (click)="authenticate()" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition" [disabled]="loading.twoFA">
        {{ loading.twoFA ? 'Authenticating...' : 'Authenticate' }}
      </button>
      <p class="text-red-500 text-sm" *ngIf="error.twoFA">{{ error.twoFA }}</p>
      <pre class="bg-gray-50 p-4 rounded-md text-sm text-gray-600" *ngIf="twoFAResult">{{ twoFAResult | json }}</pre>
    </div>
  </div>

  <!-- OTP Verification -->
  <div class="bg-white p-6 rounded-lg shadow-md mb-6">
    <h2 class="text-xl font-semibold text-gray-700 mb-4">OTP Verification</h2>
    <div class="space-y-4">
      <input type="text" [(ngModel)]="securityKey" placeholder="Security Key" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
      <input type="text" [(ngModel)]="securedActionId" placeholder="Secured Action ID" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
      <button (click)="verifyOTP()" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition" [disabled]="loading.otp">
        {{ loading.otp ? 'Verifying...' : 'Verify OTP' }}
      </button>
      <p class="text-red-500 text-sm" *ngIf="error.otp">{{ error.otp }}</p>
      <pre class="bg-gray-50 p-4 rounded-md text-sm text-gray-600" *ngIf="otpResult">{{ otpResult | json }}</pre>
    </div>
  </div>

  <!-- Charts Section -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Campaign Status Pie Chart -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold text-gray-700 mb-4">Campaign Status (Pie)</h2>
      <div class="relative h-64" *ngIf="loading.campaign">
        <svg class="w-6 h-6 mx-auto text-indigo-600 animate-spin absolute inset-0 m-auto" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
        </svg>
      </div>
      <p class="text-red-500 text-sm" *ngIf="error.campaign">{{ error.campaign }}</p>
      <canvas #campaignPieCanvas class="max-h-full w-full"></canvas>
    </div>

    <!-- Campaign Status Bar Chart -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold text-gray-700 mb-4">Campaign Status (Bar)</h2>
      <div class="relative h-64" *ngIf="loading.campaign">
        <svg class="w-6 h-6 mx-auto text-indigo-600 animate-spin absolute inset-0 m-auto" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
        </svg>
      </div>
      <p class="text-red-500 text-sm" *ngIf="error.campaign">{{ error.campaign }}</p>
      <canvas #campaignBarCanvas class="max-h-full w-full"></canvas>
    </div>

    <!-- Vehicle Make/Model Pie Chart -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold text-gray-700 mb-4">Vehicle Make/Model (Pie)</h2>
      <div class="relative h-64" *ngIf="loading.vehicle">
        <svg class="w-6 h-6 mx-auto text-indigo-600 animate-spin absolute inset-0 m-auto" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
        </svg>
      </div>
      <p class="text-red-500 text-sm" *ngIf="error.vehicle">{{ error.vehicle }}</p>
      <canvas #vehiclePieCanvas class="max-h-full w-full"></canvas>
    </div>

    <!-- Vehicle Make/Model Bar Chart -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold text-gray-700 mb-4">Vehicle Make/Model (Bar)</h2>
      <div class="relative h-64" *ngIf="loading.vehicle">
        <svg class="w-6 h-6 mx-auto text-indigo-600 animate-spin absolute inset-0 m-auto" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
        </svg>
      </div>
      <p class="text-red-500 text-sm" *ngIf="error.vehicle">{{ error.vehicle }}</p>
      <canvas #vehicleBarCanvas class="max-h-full w-full"></canvas>
    </div>
  </div>
</div>